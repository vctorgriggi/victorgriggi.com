---
import Card from '@/components/ui/Card.astro';
import Link from '@/components/ui/Link.astro';
import Section from '@/components/layout/structure/Section.astro';
import { PRICING_FORMATS, PROCESS_STEPS } from '@/data/content';
---

<Section id="pricing" subtitle="Colaboração" title="Como Trabalhamos">
  <p class="mb-12 max-w-2xl text-(--white-icon)">
    Cada projeto começa com entendimento, não com código. O formato de
    colaboração é definido a partir do objetivo, da complexidade e do nível de
    envolvimento necessário.
  </p>

  <ol class="mb-20 grid grid-cols-1 gap-6 md:grid-cols-3">
    {
      PROCESS_STEPS.map((step) => (
        <li>
          <Card padding="md" class="h-full rounded-xl">
            <h4 class="text-text mb-2 font-medium">{step.title}</h4>
            <p class="text-sm text-(--white-icon)">{step.text}</p>
          </Card>
        </li>
      ))
    }
  </ol>

  <h3 class="mb-8 text-3xl font-medium md:text-4xl">Na prática</h3>

  <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
    {
      PRICING_FORMATS.map((format) => (
        <Card
          variant={format.featured ? 'featured' : 'elevated'}
          padding="lg"
          class="group flex h-full flex-col"
        >
          <h4
            class:list={[
              'text-lg font-semibold',
              format.featured ? 'text-primary' : 'text-text',
            ]}
          >
            {format.name}
          </h4>
          <p class="mt-3 text-sm text-(--white-icon)">{format.description}</p>
          <p
            class:list={[
              'mt-5',
              format.featured ? 'text-2xl font-medium' : 'text-xl',
            ]}
          >
            {format.price}
          </p>

          <ul class="mt-6 space-y-2 text-sm text-(--white-icon)">
            {format.features.map((feature) => (
              <li class="flex gap-x-3">
                <span class="text-primary">✓</span>
                <span>{feature}</span>
              </li>
            ))}
          </ul>

          {format.note && (
            <p class="mt-3 text-xs text-(--white-icon)">{format.note}</p>
          )}

          <div class="mt-auto pt-6">
            <Link
              href="https://cal.com/victor-griggi/30min"
              external
              class="flex w-full justify-center"
            >
              Conversar
            </Link>
          </div>
        </Card>
      ))
    }
  </div>
</Section>
